
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>BPMN Viewer - Informazioni a Comparsa</title>
  <script src="https://unpkg.com/bpmn-js@11.5.0/dist/bpmn-viewer.development.js"></script>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      overflow: hidden;
    }
    #canvas {
      width: 100%;
      height: 100%;
      border: 1px solid #ccc;
      position: relative;
    }
    #infoBox {
      position: absolute;
      background: #fff;
      border: 1px solid #888;
      padding: 10px;
      box-shadow: 2px 2px 8px rgba(0,0,0,0.3);
      display: none;
      z-index: 10;
      max-width: 300px;
      font-family: Arial, sans-serif;
      font-size: 14px;
    }
  </style>
</head>
<body>
<div id="canvas"></div>
<div id="infoBox"></div>
<script>
const bpmnXML = "<?xml version='1.0' encoding='utf-8'?>\n<bpmn:definitions id=\"Definitions_1\" targetNamespace=\"http://example.bpmn\" xmlns:bpmn=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\">\n  <bpmn:process id=\"Process_1\" isExecutable=\"true\">\n    <bpmn:task id=\"A1\" name=\"A1\" />\n    <bpmn:task id=\"A2\" name=\"A2\" />\n    <bpmn:task id=\"A3\" name=\"A3\" />\n    <bpmn:task id=\"A4\" name=\"A4\" />\n    <bpmn:task id=\"A5\" name=\"A5\" />\n    <bpmn:task id=\"A6\" name=\"A6\" />\n    <bpmn:task id=\"A7\" name=\"A7\" />\n    <bpmn:task id=\"A8\" name=\"A8\" />\n    <bpmn:task id=\"A9\" name=\"A9\" />\n    <bpmn:task id=\"A10\" name=\"A10\" />\n    <bpmn:task id=\"A11\" name=\"A11\" />\n    <bpmn:task id=\"A12\" name=\"A12\" />\n    <bpmn:task id=\"A13\" name=\"A13\" />\n    <bpmn:task id=\"A14\" name=\"A14\" />\n    <bpmn:task id=\"A15\" name=\"A15\" />\n    <bpmn:task id=\"A16\" name=\"A16\" />\n    <bpmn:task id=\"A17\" name=\"A17\" />\n    <bpmn:task id=\"A18\" name=\"A18\" />\n    <bpmn:task id=\"A19\" name=\"A19\" />\n    <bpmn:task id=\"A20\" name=\"A20\" />\n    <bpmn:task id=\"A21\" name=\"A21\" />\n    <bpmn:task id=\"A22\" name=\"A22\" />\n    <bpmn:task id=\"A23\" name=\"A23\" />\n    <bpmn:task id=\"A24\" name=\"A24\" />\n    <bpmn:exclusiveGateway id=\"C1\" name=\"C1\" />\n    <bpmn:exclusiveGateway id=\"C2\" name=\"C2\" />\n    <bpmn:exclusiveGateway id=\"C3\" name=\"C3\" />\n    <bpmn:exclusiveGateway id=\"C4\" name=\"C4\" />\n    <bpmn:exclusiveGateway id=\"C5\" name=\"C5\" />\n    <bpmn:exclusiveGateway id=\"C6\" name=\"C6\" />\n    <bpmn:endEvent id=\"EndEvent_44d8db2c\" name=\"End\" />\n    <bpmn:endEvent id=\"EndEvent_91459415\" name=\"End\" />\n    <bpmn:endEvent id=\"EndEvent_ab266144\" name=\"End\" />\n    <bpmn:exclusiveGateway id=\"J_f82045f0\" />\n    <bpmn:exclusiveGateway id=\"J_93fccd80\" />\n    <bpmn:exclusiveGateway id=\"J_0f09194a\" />\n    <bpmn:sequenceFlow id=\"A1_A2\" sourceRef=\"A1\" targetRef=\"A2\" />\n    <bpmn:sequenceFlow id=\"A2_A3\" sourceRef=\"A2\" targetRef=\"A3\" />\n    <bpmn:sequenceFlow id=\"A3_C1\" sourceRef=\"A3\" targetRef=\"C1\" />\n    <bpmn:sequenceFlow id=\"C1_A4\" sourceRef=\"C1\" targetRef=\"A4\" name=\"sì\" />\n    <bpmn:sequenceFlow id=\"C1_A6\" sourceRef=\"C1\" targetRef=\"A6\" name=\"no\" />\n    <bpmn:sequenceFlow id=\"A4_A5\" sourceRef=\"A4\" targetRef=\"A5\" />\n    <bpmn:sequenceFlow id=\"A5_J_f82045f0\" sourceRef=\"A5\" targetRef=\"J_f82045f0\" />\n    <bpmn:sequenceFlow id=\"A9_J_f82045f0\" sourceRef=\"A9\" targetRef=\"J_f82045f0\" />\n    <bpmn:sequenceFlow id=\"J_f82045f0_A11\" sourceRef=\"J_f82045f0\" targetRef=\"A11\" />\n    <bpmn:sequenceFlow id=\"A6_A7\" sourceRef=\"A6\" targetRef=\"A7\" />\n    <bpmn:sequenceFlow id=\"A7_C2\" sourceRef=\"A7\" targetRef=\"C2\" />\n    <bpmn:sequenceFlow id=\"C2_A8\" sourceRef=\"C2\" targetRef=\"A8\" name=\"sì\" />\n    <bpmn:sequenceFlow id=\"C2_A10\" sourceRef=\"C2\" targetRef=\"A10\" name=\"no\" />\n    <bpmn:sequenceFlow id=\"A8_A9\" sourceRef=\"A8\" targetRef=\"A9\" />\n    <bpmn:sequenceFlow id=\"A10_EndEvent_44d8db2c\" sourceRef=\"A10\" targetRef=\"EndEvent_44d8db2c\" />\n    <bpmn:sequenceFlow id=\"A11_A12\" sourceRef=\"A11\" targetRef=\"A12\" />\n    <bpmn:sequenceFlow id=\"A12_A13\" sourceRef=\"A12\" targetRef=\"A13\" />\n    <bpmn:sequenceFlow id=\"A13_C3\" sourceRef=\"A13\" targetRef=\"C3\" />\n    <bpmn:sequenceFlow id=\"C3_A14\" sourceRef=\"C3\" targetRef=\"A14\" name=\"sì\" />\n    <bpmn:sequenceFlow id=\"C3_A20\" sourceRef=\"C3\" targetRef=\"A20\" name=\"no\" />\n    <bpmn:sequenceFlow id=\"A14_A15\" sourceRef=\"A14\" targetRef=\"A15\" />\n    <bpmn:sequenceFlow id=\"A15_A16\" sourceRef=\"A15\" targetRef=\"A16\" />\n    <bpmn:sequenceFlow id=\"A16_C4\" sourceRef=\"A16\" targetRef=\"C4\" />\n    <bpmn:sequenceFlow id=\"C4_A17\" sourceRef=\"C4\" targetRef=\"A17\" name=\"sì\" />\n    <bpmn:sequenceFlow id=\"C4_C5\" sourceRef=\"C4\" targetRef=\"C5\" name=\"no\" />\n    <bpmn:sequenceFlow id=\"A17_J_93fccd80\" sourceRef=\"A17\" targetRef=\"J_93fccd80\" />\n    <bpmn:sequenceFlow id=\"A18_J_93fccd80\" sourceRef=\"A18\" targetRef=\"J_93fccd80\" />\n    <bpmn:sequenceFlow id=\"A20_J_93fccd80\" sourceRef=\"A20\" targetRef=\"J_93fccd80\" />\n    <bpmn:sequenceFlow id=\"J_93fccd80_C6\" sourceRef=\"J_93fccd80\" targetRef=\"C6\" />\n    <bpmn:sequenceFlow id=\"C5_A18\" sourceRef=\"C5\" targetRef=\"A18\" name=\"sì\" />\n    <bpmn:sequenceFlow id=\"C5_A19\" sourceRef=\"C5\" targetRef=\"A19\" name=\"no\" />\n    <bpmn:sequenceFlow id=\"A19_EndEvent_91459415\" sourceRef=\"A19\" targetRef=\"EndEvent_91459415\" />\n    <bpmn:sequenceFlow id=\"C6_A21\" sourceRef=\"C6\" targetRef=\"A21\" name=\"sì\" />\n    <bpmn:sequenceFlow id=\"C6_A22\" sourceRef=\"C6\" targetRef=\"A22\" name=\"no\" />\n    <bpmn:sequenceFlow id=\"A21_J_0f09194a\" sourceRef=\"A21\" targetRef=\"J_0f09194a\" />\n    <bpmn:sequenceFlow id=\"A23_J_0f09194a\" sourceRef=\"A23\" targetRef=\"J_0f09194a\" />\n    <bpmn:sequenceFlow id=\"J_0f09194a_A24\" sourceRef=\"J_0f09194a\" targetRef=\"A24\" />\n    <bpmn:sequenceFlow id=\"A22_A23\" sourceRef=\"A22\" targetRef=\"A23\" />\n    <bpmn:sequenceFlow id=\"A24_EndEvent_ab266144\" sourceRef=\"A24\" targetRef=\"EndEvent_ab266144\" />\n    <bpmn:startEvent id=\"StartEvent_ed74dd71\" name=\"Start 1\" />\n  </bpmn:process>\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\n    <bpmndi:BPMNPlane id=\"BPMNPlane_1\" bpmnElement=\"Process_1\">\n      <bpmndi:BPMNShape id=\"A1_di\" bpmnElement=\"A1\">\n        <omgdc:Bounds x=\"60\" y=\"0\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A2_di\" bpmnElement=\"A2\">\n        <omgdc:Bounds x=\"120\" y=\"0\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A3_di\" bpmnElement=\"A3\">\n        <omgdc:Bounds x=\"180\" y=\"0\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A4_di\" bpmnElement=\"A4\">\n        <omgdc:Bounds x=\"300\" y=\"-150\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A5_di\" bpmnElement=\"A5\">\n        <omgdc:Bounds x=\"360\" y=\"-150\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A6_di\" bpmnElement=\"A6\">\n        <omgdc:Bounds x=\"300\" y=\"150\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A7_di\" bpmnElement=\"A7\">\n        <omgdc:Bounds x=\"360\" y=\"150\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A8_di\" bpmnElement=\"A8\">\n        <omgdc:Bounds x=\"480\" y=\"0\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A9_di\" bpmnElement=\"A9\">\n        <omgdc:Bounds x=\"540\" y=\"0\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A10_di\" bpmnElement=\"A10\">\n        <omgdc:Bounds x=\"480\" y=\"300\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A11_di\" bpmnElement=\"A11\">\n        <omgdc:Bounds x=\"660\" y=\"-80\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A12_di\" bpmnElement=\"A12\">\n        <omgdc:Bounds x=\"720\" y=\"-80\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A13_di\" bpmnElement=\"A13\">\n        <omgdc:Bounds x=\"780\" y=\"-80\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A14_di\" bpmnElement=\"A14\">\n        <omgdc:Bounds x=\"900\" y=\"-230\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A15_di\" bpmnElement=\"A15\">\n        <omgdc:Bounds x=\"960\" y=\"-230\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A16_di\" bpmnElement=\"A16\">\n        <omgdc:Bounds x=\"1020\" y=\"-230\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A17_di\" bpmnElement=\"A17\">\n        <omgdc:Bounds x=\"1140\" y=\"-380\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A18_di\" bpmnElement=\"A18\">\n        <omgdc:Bounds x=\"1200\" y=\"-230\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A19_di\" bpmnElement=\"A19\">\n        <omgdc:Bounds x=\"1200\" y=\"70\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A20_di\" bpmnElement=\"A20\">\n        <omgdc:Bounds x=\"900\" y=\"70\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A21_di\" bpmnElement=\"A21\">\n        <omgdc:Bounds x=\"1380\" y=\"-330\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A22_di\" bpmnElement=\"A22\">\n        <omgdc:Bounds x=\"1380\" y=\"-30\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A23_di\" bpmnElement=\"A23\">\n        <omgdc:Bounds x=\"1440\" y=\"-30\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"A24_di\" bpmnElement=\"A24\">\n        <omgdc:Bounds x=\"1560\" y=\"-180\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"C1_di\" bpmnElement=\"C1\">\n        <omgdc:Bounds x=\"240\" y=\"0\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"C2_di\" bpmnElement=\"C2\">\n        <omgdc:Bounds x=\"420\" y=\"150\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"C3_di\" bpmnElement=\"C3\">\n        <omgdc:Bounds x=\"840\" y=\"-80\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"C4_di\" bpmnElement=\"C4\">\n        <omgdc:Bounds x=\"1080\" y=\"-230\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"C5_di\" bpmnElement=\"C5\">\n        <omgdc:Bounds x=\"1140\" y=\"-80\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"C6_di\" bpmnElement=\"C6\">\n        <omgdc:Bounds x=\"1320\" y=\"-180\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"EndEvent_44d8db2c_di\" bpmnElement=\"EndEvent_44d8db2c\">\n        <omgdc:Bounds x=\"540\" y=\"300\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"EndEvent_91459415_di\" bpmnElement=\"EndEvent_91459415\">\n        <omgdc:Bounds x=\"1260\" y=\"70\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"EndEvent_ab266144_di\" bpmnElement=\"EndEvent_ab266144\">\n        <omgdc:Bounds x=\"1620\" y=\"-180\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A1_di\" bpmnElement=\"Annotation_A1\">\n        <omgdc:Bounds x=\"60\" y=\"100\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A2_di\" bpmnElement=\"Annotation_A2\">\n        <omgdc:Bounds x=\"120\" y=\"100\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A3_di\" bpmnElement=\"Annotation_A3\">\n        <omgdc:Bounds x=\"180\" y=\"100\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A4_di\" bpmnElement=\"Annotation_A4\">\n        <omgdc:Bounds x=\"300\" y=\"-50\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A5_di\" bpmnElement=\"Annotation_A5\">\n        <omgdc:Bounds x=\"360\" y=\"-50\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A6_di\" bpmnElement=\"Annotation_A6\">\n        <omgdc:Bounds x=\"300\" y=\"250\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A7_di\" bpmnElement=\"Annotation_A7\">\n        <omgdc:Bounds x=\"360\" y=\"250\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A8_di\" bpmnElement=\"Annotation_A8\">\n        <omgdc:Bounds x=\"480\" y=\"100\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A9_di\" bpmnElement=\"Annotation_A9\">\n        <omgdc:Bounds x=\"540\" y=\"100\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A10_di\" bpmnElement=\"Annotation_A10\">\n        <omgdc:Bounds x=\"480\" y=\"400\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A11_di\" bpmnElement=\"Annotation_A11\">\n        <omgdc:Bounds x=\"660\" y=\"20\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A12_di\" bpmnElement=\"Annotation_A12\">\n        <omgdc:Bounds x=\"720\" y=\"20\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A13_di\" bpmnElement=\"Annotation_A13\">\n        <omgdc:Bounds x=\"780\" y=\"20\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A14_di\" bpmnElement=\"Annotation_A14\">\n        <omgdc:Bounds x=\"900\" y=\"-130\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A15_di\" bpmnElement=\"Annotation_A15\">\n        <omgdc:Bounds x=\"960\" y=\"-130\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A16_di\" bpmnElement=\"Annotation_A16\">\n        <omgdc:Bounds x=\"1020\" y=\"-130\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A17_di\" bpmnElement=\"Annotation_A17\">\n        <omgdc:Bounds x=\"1140\" y=\"-280\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A18_di\" bpmnElement=\"Annotation_A18\">\n        <omgdc:Bounds x=\"1200\" y=\"-130\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A19_di\" bpmnElement=\"Annotation_A19\">\n        <omgdc:Bounds x=\"1200\" y=\"170\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A20_di\" bpmnElement=\"Annotation_A20\">\n        <omgdc:Bounds x=\"900\" y=\"170\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A21_di\" bpmnElement=\"Annotation_A21\">\n        <omgdc:Bounds x=\"1380\" y=\"-230\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A22_di\" bpmnElement=\"Annotation_A22\">\n        <omgdc:Bounds x=\"1380\" y=\"70\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A23_di\" bpmnElement=\"Annotation_A23\">\n        <omgdc:Bounds x=\"1440\" y=\"70\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Annotation_A24_di\" bpmnElement=\"Annotation_A24\">\n        <omgdc:Bounds x=\"1560\" y=\"-80\" width=\"160\" height=\"35\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"J_f82045f0_di\" bpmnElement=\"J_f82045f0\">\n        <omgdc:Bounds x=\"600\" y=\"-80\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"J_93fccd80_di\" bpmnElement=\"J_93fccd80\">\n        <omgdc:Bounds x=\"1260\" y=\"-180\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"J_0f09194a_di\" bpmnElement=\"J_0f09194a\">\n        <omgdc:Bounds x=\"1500\" y=\"-180\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"StartEvent_ed74dd71_di\" bpmnElement=\"StartEvent_ed74dd71\">\n        <omgdc:Bounds x=\"0\" y=\"0\" width=\"40\" height=\"40\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"A1_A2_di\" bpmnElement=\"A1_A2\">\n        <omgdi:waypoint x=\"100\" y=\"20.0\" />\n        <omgdi:waypoint x=\"120\" y=\"20.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A2_A3_di\" bpmnElement=\"A2_A3\">\n        <omgdi:waypoint x=\"160\" y=\"20.0\" />\n        <omgdi:waypoint x=\"180\" y=\"20.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A3_C1_di\" bpmnElement=\"A3_C1\">\n        <omgdi:waypoint x=\"220\" y=\"20.0\" />\n        <omgdi:waypoint x=\"240\" y=\"20.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"C1_A4_di\" bpmnElement=\"C1_A4\">\n        <omgdi:waypoint x=\"280\" y=\"20.0\" />\n        <omgdi:waypoint x=\"300\" y=\"-130.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"C1_A6_di\" bpmnElement=\"C1_A6\">\n        <omgdi:waypoint x=\"280\" y=\"20.0\" />\n        <omgdi:waypoint x=\"300\" y=\"170.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A4_A5_di\" bpmnElement=\"A4_A5\">\n        <omgdi:waypoint x=\"340\" y=\"-130.0\" />\n        <omgdi:waypoint x=\"360\" y=\"-130.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A5_J_f82045f0_di\" bpmnElement=\"A5_J_f82045f0\">\n        <omgdi:waypoint x=\"400\" y=\"-130.0\" />\n        <omgdi:waypoint x=\"600\" y=\"-60.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A9_J_f82045f0_di\" bpmnElement=\"A9_J_f82045f0\">\n        <omgdi:waypoint x=\"580\" y=\"20.0\" />\n        <omgdi:waypoint x=\"600\" y=\"-60.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"J_f82045f0_A11_di\" bpmnElement=\"J_f82045f0_A11\">\n        <omgdi:waypoint x=\"640\" y=\"-60.0\" />\n        <omgdi:waypoint x=\"660\" y=\"-60.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A6_A7_di\" bpmnElement=\"A6_A7\">\n        <omgdi:waypoint x=\"340\" y=\"170.0\" />\n        <omgdi:waypoint x=\"360\" y=\"170.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A7_C2_di\" bpmnElement=\"A7_C2\">\n        <omgdi:waypoint x=\"400\" y=\"170.0\" />\n        <omgdi:waypoint x=\"420\" y=\"170.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"C2_A8_di\" bpmnElement=\"C2_A8\">\n        <omgdi:waypoint x=\"460\" y=\"170.0\" />\n        <omgdi:waypoint x=\"480\" y=\"20.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"C2_A10_di\" bpmnElement=\"C2_A10\">\n        <omgdi:waypoint x=\"460\" y=\"170.0\" />\n        <omgdi:waypoint x=\"480\" y=\"320.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A8_A9_di\" bpmnElement=\"A8_A9\">\n        <omgdi:waypoint x=\"520\" y=\"20.0\" />\n        <omgdi:waypoint x=\"540\" y=\"20.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A10_EndEvent_44d8db2c_di\" bpmnElement=\"A10_EndEvent_44d8db2c\">\n        <omgdi:waypoint x=\"520\" y=\"320.0\" />\n        <omgdi:waypoint x=\"540\" y=\"320.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A11_A12_di\" bpmnElement=\"A11_A12\">\n        <omgdi:waypoint x=\"700\" y=\"-60.0\" />\n        <omgdi:waypoint x=\"720\" y=\"-60.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A12_A13_di\" bpmnElement=\"A12_A13\">\n        <omgdi:waypoint x=\"760\" y=\"-60.0\" />\n        <omgdi:waypoint x=\"780\" y=\"-60.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A13_C3_di\" bpmnElement=\"A13_C3\">\n        <omgdi:waypoint x=\"820\" y=\"-60.0\" />\n        <omgdi:waypoint x=\"840\" y=\"-60.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"C3_A14_di\" bpmnElement=\"C3_A14\">\n        <omgdi:waypoint x=\"880\" y=\"-60.0\" />\n        <omgdi:waypoint x=\"900\" y=\"-210.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"C3_A20_di\" bpmnElement=\"C3_A20\">\n        <omgdi:waypoint x=\"880\" y=\"-60.0\" />\n        <omgdi:waypoint x=\"900\" y=\"90.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A14_A15_di\" bpmnElement=\"A14_A15\">\n        <omgdi:waypoint x=\"940\" y=\"-210.0\" />\n        <omgdi:waypoint x=\"960\" y=\"-210.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A15_A16_di\" bpmnElement=\"A15_A16\">\n        <omgdi:waypoint x=\"1000\" y=\"-210.0\" />\n        <omgdi:waypoint x=\"1020\" y=\"-210.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A16_C4_di\" bpmnElement=\"A16_C4\">\n        <omgdi:waypoint x=\"1060\" y=\"-210.0\" />\n        <omgdi:waypoint x=\"1080\" y=\"-210.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"C4_A17_di\" bpmnElement=\"C4_A17\">\n        <omgdi:waypoint x=\"1120\" y=\"-210.0\" />\n        <omgdi:waypoint x=\"1140\" y=\"-360.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"C4_C5_di\" bpmnElement=\"C4_C5\">\n        <omgdi:waypoint x=\"1120\" y=\"-210.0\" />\n        <omgdi:waypoint x=\"1140\" y=\"-60.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A17_J_93fccd80_di\" bpmnElement=\"A17_J_93fccd80\">\n        <omgdi:waypoint x=\"1180\" y=\"-360.0\" />\n        <omgdi:waypoint x=\"1260\" y=\"-160.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A18_J_93fccd80_di\" bpmnElement=\"A18_J_93fccd80\">\n        <omgdi:waypoint x=\"1240\" y=\"-210.0\" />\n        <omgdi:waypoint x=\"1260\" y=\"-160.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A20_J_93fccd80_di\" bpmnElement=\"A20_J_93fccd80\">\n        <omgdi:waypoint x=\"940\" y=\"90.0\" />\n        <omgdi:waypoint x=\"1260\" y=\"-160.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"J_93fccd80_C6_di\" bpmnElement=\"J_93fccd80_C6\">\n        <omgdi:waypoint x=\"1300\" y=\"-160.0\" />\n        <omgdi:waypoint x=\"1320\" y=\"-160.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"C5_A18_di\" bpmnElement=\"C5_A18\">\n        <omgdi:waypoint x=\"1180\" y=\"-60.0\" />\n        <omgdi:waypoint x=\"1200\" y=\"-210.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"C5_A19_di\" bpmnElement=\"C5_A19\">\n        <omgdi:waypoint x=\"1180\" y=\"-60.0\" />\n        <omgdi:waypoint x=\"1200\" y=\"90.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A19_EndEvent_91459415_di\" bpmnElement=\"A19_EndEvent_91459415\">\n        <omgdi:waypoint x=\"1240\" y=\"90.0\" />\n        <omgdi:waypoint x=\"1260\" y=\"90.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"C6_A21_di\" bpmnElement=\"C6_A21\">\n        <omgdi:waypoint x=\"1360\" y=\"-160.0\" />\n        <omgdi:waypoint x=\"1380\" y=\"-310.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"C6_A22_di\" bpmnElement=\"C6_A22\">\n        <omgdi:waypoint x=\"1360\" y=\"-160.0\" />\n        <omgdi:waypoint x=\"1380\" y=\"-10.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A21_J_0f09194a_di\" bpmnElement=\"A21_J_0f09194a\">\n        <omgdi:waypoint x=\"1420\" y=\"-310.0\" />\n        <omgdi:waypoint x=\"1500\" y=\"-160.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A23_J_0f09194a_di\" bpmnElement=\"A23_J_0f09194a\">\n        <omgdi:waypoint x=\"1480\" y=\"-10.0\" />\n        <omgdi:waypoint x=\"1500\" y=\"-160.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"J_0f09194a_A24_di\" bpmnElement=\"J_0f09194a_A24\">\n        <omgdi:waypoint x=\"1540\" y=\"-160.0\" />\n        <omgdi:waypoint x=\"1560\" y=\"-160.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A22_A23_di\" bpmnElement=\"A22_A23\">\n        <omgdi:waypoint x=\"1420\" y=\"-10.0\" />\n        <omgdi:waypoint x=\"1440\" y=\"-10.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"A24_EndEvent_ab266144_di\" bpmnElement=\"A24_EndEvent_ab266144\">\n        <omgdi:waypoint x=\"1600\" y=\"-160.0\" />\n        <omgdi:waypoint x=\"1620\" y=\"-160.0\" />\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"StartEvent_ed74dd71_A1_di\" bpmnElement=\"StartEvent_ed74dd71_A1\">\n        <omgdi:waypoint x=\"40\" y=\"20.0\" />\n        <omgdi:waypoint x=\"60\" y=\"20.0\" />\n      </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</bpmn:definitions>";
const viewer = new BpmnJS({ 
  container: '#canvas'
});
const taskInfo = {"A1": "ID: A1<br>Descrizione: Invio dello studio preliminare ambientale all'autorità competente<br>Destinatario: Autorità competente<br>Riferimento Normativo: Art. 19, comma 1<br>Output: Ricezione dello studio preliminare ambientale<br>Documenti: Studio preliminare ambientale", "A2": "ID: A2<br>Descrizione: Invio della copia dell'avvenuto pagamento del contributo<br>Destinatario: Autorità competente<br>Riferimento Normativo: Art. 19, comma 1<br>Output: Ricezione della copia del pagamento<br>Documenti: Copia del pagamento del contributo", "A3": "ID: A3<br>Descrizione: Controllo della completezza e adeguatezza della documentazione ricevuta<br>Destinatario: Proponente<br>Riferimento Normativo: Art. 19, comma 2<br>Output: Conferma di completezza o richiesta di integrazioni<br>Riferimento Temporale: Entro 5 giorni", "A4": "ID: A4<br>Descrizione: Pubblicazione dello studio preliminare sul sito internet istituzionale<br>Destinatario: Pubblico<br>Riferimento Normativo: Art. 19, comma 3<br>Output: Studio preliminare pubblicato online<br>Documenti: Studio preliminare ambientale<br>Riferimento Temporale: Contestualmente alla ricezione", "A5": "ID: A5<br>Descrizione: Comunicazione telematica della pubblicazione dello studio preliminare<br>Destinatario: Amministrazioni e enti territoriali interessati<br>Riferimento Normativo: Art. 19, comma 3<br>Output: Notifica di avvenuta pubblicazione<br>Riferimento Temporale: Contestualmente alla pubblicazione", "A6": "ID: A6<br>Descrizione: Richiesta di chiarimenti e integrazioni sulla documentazione<br>Destinatario: Proponente<br>Riferimento Normativo: Art. 19, comma 2<br>Output: Richiesta di chiarimenti e integrazioni inviata", "A7": "ID: A7<br>Descrizione: Invio dei chiarimenti e delle integrazioni richieste dall'autorità competente<br>Destinatario: Autorità competente<br>Riferimento Normativo: Art. 19, comma 2<br>Output: Ricezione di chiarimenti e integrazioni<br>Documenti: Chiarimenti e integrazioni<br>Riferimento Temporale: Entro 15 giorni", "A8": "ID: A8<br>Descrizione: Pubblicazione dello studio preliminare sul sito internet istituzionale<br>Destinatario: Pubblico<br>Riferimento Normativo: Art. 19, comma 3<br>Output: Studio preliminare pubblicato online<br>Documenti: Studio preliminare ambientale<br>Riferimento Temporale: Contestualmente alla ricezione", "A9": "ID: A9<br>Descrizione: Comunicazione telematica della pubblicazione dello studio preliminare<br>Destinatario: Amministrazioni e enti territoriali interessati<br>Riferimento Normativo: Art. 19, comma 3<br>Output: Notifica di avvenuta pubblicazione<br>Riferimento Temporale: Contestualmente alla pubblicazione", "A10": "ID: A10<br>Descrizione: Archiviazione della domanda in caso di mancato invio di documentazione<br>Destinatario: Proponente<br>Riferimento Normativo: Art. 19, comma 2<br>Output: Domanda archiviata", "A11": "ID: A11<br>Descrizione: Presentazione di osservazioni sullo studio preliminare<br>Destinatario: Autorità competente<br>Riferimento Normativo: Art. 19, comma 4<br>Output: Osservazioni ricevute<br>Documenti: Osservazioni<br>Riferimento Temporale: Entro 30 giorni dalla pubblicazione", "A12": "ID: A12<br>Descrizione: Verifica degli impatti ambientali significativi del progetto<br>Destinatario: Proponente<br>Riferimento Normativo: Art. 19, comma 5<br>Output: Determinazione sugli impatti ambientali", "A13": "ID: A13<br>Descrizione: Adozione del provvedimento di verifica di assoggettabilità a VIA<br>Destinatario: Proponente<br>Riferimento Normativo: Art. 19, comma 6<br>Output: Provvedimento di verifica adottato<br>Riferimento Temporale: Entro 45 giorni dalla scadenza del termine per le osservazioni", "A14": "ID: A14<br>Descrizione: Comunicazione della proroga dei termini al proponente<br>Destinatario: Proponente<br>Riferimento Normativo: Art. 19, comma 6<br>Output: Comunicazione di proroga inviata", "A15": "ID: A15<br>Descrizione: Pubblicazione della comunicazione di proroga sul sito internet<br>Destinatario: Pubblico<br>Riferimento Normativo: Art. 19, comma 6<br>Output: Comunicazione di proroga pubblicata", "A16": "ID: A16<br>Descrizione: Richiesta di chiarimenti finali al proponente per la non assoggettabilità a VIA<br>Destinatario: Proponente<br>Riferimento Normativo: Art. 19, comma 6<br>Output: Richiesta di chiarimenti finali inviata", "A17": "ID: A17<br>Descrizione: Richiesta di sospensione dei termini per presentare chiarimenti<br>Destinatario: Autorità competente<br>Riferimento Normativo: Art. 19, comma 6<br>Output: Richiesta di sospensione ricevuta", "A18": "ID: A18<br>Descrizione: Adozione del provvedimento di verifica di assoggettabilità a VIA<br>Destinatario: Proponente<br>Riferimento Normativo: Art. 19, comma 6<br>Output: Provvedimento di verifica adottato", "A19": "ID: A19<br>Descrizione: Archiviazione della domanda in caso di mancato invio di documentazione<br>Destinatario: Proponente<br>Riferimento Normativo: Art. 19, comma 6<br>Output: Domanda archiviata", "A20": "ID: A20<br>Descrizione: Adozione del provvedimento di verifica di assoggettabilità a VIA<br>Destinatario: Proponente<br>Riferimento Normativo: Art. 19, comma 6<br>Output: Provvedimento di verifica adottato", "A21": "ID: A21<br>Descrizione: Specifica dei motivi per cui il progetto è assoggettato a VIA<br>Destinatario: Proponente<br>Riferimento Normativo: Art. 19, comma 8<br>Output: Motivazioni per l'assoggettamento a VIA specificate", "A22": "ID: A22<br>Descrizione: Specifica dei motivi per cui il progetto non è assoggettato a VIA<br>Destinatario: Proponente<br>Riferimento Normativo: Art. 19, comma 7<br>Output: Motivazioni per la non assoggettabilità a VIA specificate", "A23": "ID: A23<br>Descrizione: Specifica delle condizioni ambientali necessarie, se richiesto dal proponente<br>Destinatario: Proponente<br>Riferimento Normativo: Art. 19, comma 7<br>Output: Condizioni ambientali specificate<br>Riferimento Temporale: Entro 30 giorni", "A24": "ID: A24<br>Descrizione: Pubblicazione integrale del provvedimento di verifica sul sito internet istituzionale<br>Destinatario: Pubblico<br>Riferimento Normativo: Art. 19, comma 10<br>Output: Provvedimento di verifica pubblicato"};

viewer.importXML(bpmnXML).then(() => {
  viewer.get('canvas').zoom('fit-viewport');
  
  const eventBus = viewer.get('eventBus');
  const canvasContainer = document.getElementById('canvas');
  const infoBox = document.getElementById('infoBox');
  const canvas = viewer.get('canvas');
  
  let isDragging = false;
  let lastX = 0;
  let lastY = 0;
  
  canvasContainer.addEventListener('mousedown', function(event) {
    if (event.button === 0) {
      isDragging = true;
      lastX = event.clientX;
      lastY = event.clientY;
      canvasContainer.style.cursor = 'grabbing';
      event.preventDefault();
    }
  });
  
  canvasContainer.addEventListener('mousemove', function(event) {
    if (isDragging) {
      const deltaX = event.clientX - lastX;
      const deltaY = event.clientY - lastY;
      
      const viewbox = canvas.viewbox();
      canvas.viewbox({
        x: viewbox.x - deltaX,
        y: viewbox.y - deltaY,
        width: viewbox.width,
        height: viewbox.height
      });
      
      lastX = event.clientX;
      lastY = event.clientY;
    }
  });
  
  canvasContainer.addEventListener('mouseup', function() {
    isDragging = false;
    canvasContainer.style.cursor = 'grab';
  });
  
  canvasContainer.addEventListener('mouseleave', function() {
    isDragging = false;
    canvasContainer.style.cursor = 'grab';
  });
  
  canvasContainer.style.cursor = 'grab';
  
  eventBus.on('element.dblclick', function(event) {
    const element = event.element;
    if (element.type === 'bpmn:Task') {
      const info = taskInfo[element.id] || "Nessuna informazione disponibile.";
      const rect = canvasContainer.getBoundingClientRect();
      const x = event.originalEvent.clientX - rect.left;
      const y = event.originalEvent.clientY - rect.top;
      infoBox.style.left = x + 'px';
      infoBox.style.top = y + 'px';
      infoBox.innerHTML = `<strong>${element.businessObject.name}</strong><br>${info}`;
      infoBox.style.display = 'block';
    }
  });
  
  canvasContainer.addEventListener('click', () => {
    infoBox.style.display = 'none';
  });
  
}).catch(err => {
  console.error('Errore nel caricamento del diagramma', err);
});
</script>
</body>
</html>
